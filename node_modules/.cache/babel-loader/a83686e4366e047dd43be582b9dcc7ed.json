{"remainingRequest":"/Users/seungwongo/Documents/github/vuejs3x/node_modules/babel-loader/lib/index.js!/Users/seungwongo/Documents/github/vuejs3x/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/seungwongo/Documents/github/vuejs3x/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/seungwongo/Documents/github/vuejs3x/src/views/Login.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/seungwongo/Documents/github/vuejs3x/src/views/Login.vue","mtime":1614760893805},{"path":"/Users/seungwongo/Documents/github/vuejs3x/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/seungwongo/Documents/github/vuejs3x/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/seungwongo/Documents/github/vuejs3x/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/seungwongo/Documents/github/vuejs3x/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3NldW5nd29uZ28vRG9jdW1lbnRzL2dpdGh1Yi92dWVqczN4L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8gaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvZGU6ICIiCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsvLyBLYWthby5pbml0KCdjMjg3NTAzMGQ1OTBjNWFjYzRmMDRhYTE1NTk3YmFiNCcpOwogICAgLy8gS2FrYW8uaXNJbml0aWFsaXplZCgpOwogIH0sCiAgbWV0aG9kczogewogICAga2FrYW9Mb2dpbjogZnVuY3Rpb24ga2FrYW9Mb2dpbigpIHsKICAgICAgd2luZG93Lktha2FvLkF1dGgubG9naW4oewogICAgICAgIHNjb3BlOiAncHJvZmlsZSwgYWNjb3VudF9lbWFpbCcsCiAgICAgICAgc3VjY2VzczogdGhpcy5nZXRLYWthb0FjY291bnQKICAgICAgfSk7CiAgICB9LAogICAgZ2V0S2FrYW9BY2NvdW50OiBmdW5jdGlvbiBnZXRLYWthb0FjY291bnQoKSB7CiAgICAgIHdpbmRvdy5LYWthby5BUEkucmVxdWVzdCh7CiAgICAgICAgdXJsOiAnL3YyL3VzZXIvbWUnLAogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MocmVzKSB7CiAgICAgICAgICB2YXIga2FrYW9fYWNjb3VudCA9IHJlcy5rYWthb19hY2NvdW50OwogICAgICAgICAgdmFyIG5pY2tuYW1lID0ga2FrYW9fYWNjb3VudC5wcm9maWxlLm5pY2tuYW1lOyAvL+y5tOy5tOyYpCDri4nrhKTsnoQKCiAgICAgICAgICB2YXIgZW1haWwgPSBrYWthb19hY2NvdW50LmVtYWlsOyAvL+y5tOy5tOyYpCDsnbTrqZTsnbwKCiAgICAgICAgICBjb25zb2xlLmxvZygnbmlja25hbWUnLCBuaWNrbmFtZSk7CiAgICAgICAgICBjb25zb2xlLmxvZygnZW1haWwnLCBlbWFpbCk7IC8v66Gc6re47J24IOyymOumrCDqtaztmIQKCiAgICAgICAgICBjb25zb2xlLmxvZyhrYWthb19hY2NvdW50KTsgLy8gdGhpcy5sb2dpbihrYWthb19hY2NvdW50KTsKICAgICAgICAgIC8vIGNvbnN0IHVzZXJJbmZvID0gewogICAgICAgICAgLy8gICAgIG5pY2tuYW1lIDoga2FrYW9fYWNjb3VudC5wcm9maWxlLm5pY2tuYW1lLAogICAgICAgICAgLy8gICAgIGVtYWlsIDoga2FrYW9fYWNjb3VudC5lbWFpbCwKICAgICAgICAgIC8vICAgICBwYXNzd29yZCA6ICcnLAogICAgICAgICAgLy8gICAgIGFjY291bnRfdHlwZSA6IDIsCiAgICAgICAgICAvLyB9CiAgICAgICAgICAvLyBheGlvcy5wb3N0KGBodHRwOi8vbG9jYWxob3N0OjgwODAvYWNjb3VudC9rYWthb2AsewogICAgICAgICAgLy8gICAgIGVtYWlsIDogdXNlckluZm8uZW1haWwsCiAgICAgICAgICAvLyAgICAgbmlja25hbWUgOiB1c2VySW5mby5uaWNrbmFtZQogICAgICAgICAgLy8gfSkKICAgICAgICAgIC8vIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICAvLyAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAvLyAgIGNvbnNvbGUubG9nKCLrjbDsnbTthLDrsqDsnbTsiqTsl5Ag7ZqM7JuQIOygleuztOqwgCDsnojsnYwhIik7CiAgICAgICAgICAvLyB9KQogICAgICAgICAgLy8gLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgIC8vICAgY29uc29sZS5sb2coIuuNsOydtO2EsOuyoOydtOyKpOyXkCDtmozsm5Ag7KCV67O06rCAIOyXhuydjCEiKTsKICAgICAgICAgIC8vIH0pCiAgICAgICAgICAvLyBjb25zb2xlLmxvZyh1c2VySW5mbyk7CgogICAgICAgICAgYWxlcnQoIuuhnOq3uOyduCDshLHqs7UhIik7CiAgICAgICAgfSwKICAgICAgICBmYWlsOiBmdW5jdGlvbiBmYWlsKGVycm9yKSB7CiAgICAgICAgICAvLyB0aGlzLiRyb3V0ZXIucHVzaCgiL2Vycm9yUGFnZSIpOwogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKGtha2FvX2FjY291bnQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGFwaSgiL2FwaS9sb2dpbiIsIHsKICAgICAgICAgICAgICAgICAgcGFyYW06IFt7CiAgICAgICAgICAgICAgICAgICAgZW1haWw6IGtha2FvX2FjY291bnQuZW1haWwsCiAgICAgICAgICAgICAgICAgICAgbmlja25hbWU6IGtha2FvX2FjY291bnQucHJvZmlsZS5uaWNrbmFtZSwKICAgICAgICAgICAgICAgICAgICBnZW5kZXI6IGtha2FvX2FjY291bnQuZ2VuZGVyCiAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICBuaWNrbmFtZToga2FrYW9fYWNjb3VudC5wcm9maWxlLm5pY2tuYW1lLAogICAgICAgICAgICAgICAgICAgIGdlbmRlcjoga2FrYW9fYWNjb3VudC5nZW5kZXIKICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCJ1c2VyIiwga2FrYW9fYWNjb3VudCk7CgogICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgcGF0aDogJ3Rlc3QnCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/seungwongo/Documents/github/vuejs3x/src/views/Login.vue"],"names":[],"mappings":";;AAWA;AAEA,eAAe;AACb,EAAA,UAAU,EAAE,EADC;AAGb,EAAA,IAHa,kBAGN;AACL,WAAO;AACL,MAAA,IAAI,EAAC;AADA,KAAP;AAGD,GAPY;AAQb,EAAA,OARa,qBAQH,CACR;AACA;AACD,GAXY;AAYb,EAAA,OAAO,EAAE;AACP,IAAA,UADO,wBACM;AACT,MAAA,MAAM,CAAC,KAAP,CAAa,IAAb,CAAkB,KAAlB,CAAwB;AACpB,QAAA,KAAI,EAAI,wBADY;AAEpB,QAAA,OAAO,EAAE,KAAK;AAFM,OAAxB;AAIH,KANM;AAOP,IAAA,eAPO,6BAOU;AACb,MAAA,MAAM,CAAC,KAAP,CAAa,GAAb,CAAiB,OAAjB,CAAyB;AACrB,QAAA,GAAG,EAAC,aADiB;AAErB,QAAA,OAAM,EAAI,iBAAA,GAAE,EAAK;AACb,cAAM,aAAY,GAAI,GAAG,CAAC,aAA1B;AACA,cAAM,QAAO,GAAI,aAAa,CAAC,OAAd,CAAsB,QAAvC,CAFa,CAEoC;;AACjD,cAAM,KAAI,GAAI,aAAa,CAAC,KAA5B,CAHa,CAGqB;;AAElC,UAAA,OAAO,CAAC,GAAR,CAAY,UAAZ,EAAwB,QAAxB;AACA,UAAA,OAAO,CAAC,GAAR,CAAY,OAAZ,EAAqB,KAArB,EANa,CAOb;;AAGA,UAAA,OAAO,CAAC,GAAR,CAAY,aAAZ,EAVa,CAWb;AAEA;AACA;AACA;AACA;AACA;AACA;AAEE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACF;;AACA,UAAA,KAAK,CAAC,SAAD,CAAL;AACH,SApCoB;AAqCrB,QAAA,IAAG,EAAI,cAAA,KAAI,EAAK;AACZ;AACA,UAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACJ;AAxCqB,OAAzB;AA0CH,KAlDM;AAmDD,IAAA,KAnDC,iBAmDK,aAnDL,EAmDoB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACnB,KAAI,CAAC,IAAL,CAAU,YAAV,EAAwB;AAC5B,kBAAA,KAAK,EAAC,CACJ;AAAC,oBAAA,KAAK,EAAC,aAAa,CAAC,KAArB;AAA4B,oBAAA,QAAQ,EAAC,aAAa,CAAC,OAAd,CAAsB,QAA3D;AAAqE,oBAAA,MAAM,EAAC,aAAa,CAAC;AAA1F,mBADI,EAEJ;AAAC,oBAAA,QAAQ,EAAC,aAAa,CAAC,OAAd,CAAsB,QAAhC;AAA0C,oBAAA,MAAM,EAAC,aAAa,CAAC;AAA/D,mBAFI;AADsB,iBAAxB,CADmB;;AAAA;AAQzB,gBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,MAAnB,EAA0B,aAA1B;;AAEA,gBAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB;AAAE,kBAAA,IAAI,EAAE;AAAR,iBAAlB;;AAVyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAW3B;AA9DO;AAZI,CAAf","sourcesContent":["<template>\n  <div >\n    <a id=\"custom-login-btn\" @click=\"kakaoLogin()\">\n      <img\n        src=\"//k.kakaocdn.net/14/dn/btqCn0WEmI3/nijroPfbpCa4at5EIsjyf0/o.jpg\"\n        width=\"222\"\n      />\n    </a>\n    </div>\n</template>\n<script>\n// import axios from 'axios'\n\nexport default {\n  components: {\n  },\n  data() {\n    return {\n      code:\"\",\n    };\n  },\n  mounted() {\n    // Kakao.init('c2875030d590c5acc4f04aa15597bab4');\n    // Kakao.isInitialized();\n  },\n  methods: {\n    kakaoLogin() {\n        window.Kakao.Auth.login({\n            scope : 'profile, account_email',\n            success: this.getKakaoAccount,\n        });\n    },\n    getKakaoAccount(){\n        window.Kakao.API.request({\n            url:'/v2/user/me',\n            success : res => {\n                const kakao_account = res.kakao_account;\n                const nickname = kakao_account.profile.nickname; //카카오 닉네임\n                const email = kakao_account.email //카카오 이메일\n\n                console.log('nickname', nickname);\n                console.log('email', email);\n                //로그인 처리 구현\n\n\n                console.log(kakao_account);\n                // this.login(kakao_account);\n                \n                // const userInfo = {\n                //     nickname : kakao_account.profile.nickname,\n                //     email : kakao_account.email,\n                //     password : '',\n                //     account_type : 2,\n                // }\n\n                  // axios.post(`http://localhost:8080/account/kakao`,{\n                  //     email : userInfo.email,\n                  //     nickname : userInfo.nickname\n                  // })\n                  // .then(res => {\n                  //   console.log(res);\n                  //   console.log(\"데이터베이스에 회원 정보가 있음!\");\n                  // })\n                  // .catch(err => {\n                  //     console.log(err);\n                  //   console.log(\"데이터베이스에 회원 정보가 없음!\");\n                  // })\n                // console.log(userInfo);\n                alert(\"로그인 성공!\");\n            },\n            fail : error => {\n                // this.$router.push(\"/errorPage\");\n                console.log(error);\n            }\n        })\n    },\n    async login(kakao_account) {\n      await this.$api(\"/api/login\", {\n        param:[\n          {email:kakao_account.email, nickname:kakao_account.profile.nickname, gender:kakao_account.gender},\n          {nickname:kakao_account.profile.nickname, gender:kakao_account.gender}\n          ]\n      });\n\n      this.$store.commit(\"user\",kakao_account);\n      \n      this.$router.push({ path: 'test'});\n    }\n  }\n}\n</script>"],"sourceRoot":""}]}