{"remainingRequest":"/Users/seungwongo/Documents/github/vuejs3x/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/seungwongo/Documents/github/vuejs3x/src/views/Login.vue?vue&type=template&id=26084dc2","dependencies":[{"path":"/Users/seungwongo/Documents/github/vuejs3x/src/views/Login.vue","mtime":1614760893805},{"path":"/Users/seungwongo/Documents/github/vuejs3x/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/seungwongo/Documents/github/vuejs3x/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/seungwongo/Documents/github/vuejs3x/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/seungwongo/Documents/github/vuejs3x/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/seungwongo/Documents/github/vuejs3x/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiA+CiAgICA8YSBpZD0iY3VzdG9tLWxvZ2luLWJ0biIgQGNsaWNrPSJrYWthb0xvZ2luKCkiPgogICAgICA8aW1nCiAgICAgICAgc3JjPSIvL2sua2FrYW9jZG4ubmV0LzE0L2RuL2J0cUNuMFdFbUkzL25panJvUGZicENhNGF0NUVJc2p5ZjAvby5qcGciCiAgICAgICAgd2lkdGg9IjIyMiIKICAgICAgLz4KICAgIDwvYT4KICAgIDwvZGl2Pgo="},{"version":3,"sources":["/Users/seungwongo/Documents/github/vuejs3x/src/views/Login.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE;IACH,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC5C,CAAC,CAAC,CAAC;QACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACZ,CAAC;IACH,CAAC,CAAC,CAAC;IACH,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/seungwongo/Documents/github/vuejs3x/src/views/Login.vue","sourceRoot":"","sourcesContent":["<template>\n  <div >\n    <a id=\"custom-login-btn\" @click=\"kakaoLogin()\">\n      <img\n        src=\"//k.kakaocdn.net/14/dn/btqCn0WEmI3/nijroPfbpCa4at5EIsjyf0/o.jpg\"\n        width=\"222\"\n      />\n    </a>\n    </div>\n</template>\n<script>\n// import axios from 'axios'\n\nexport default {\n  components: {\n  },\n  data() {\n    return {\n      code:\"\",\n    };\n  },\n  mounted() {\n    // Kakao.init('c2875030d590c5acc4f04aa15597bab4');\n    // Kakao.isInitialized();\n  },\n  methods: {\n    kakaoLogin() {\n        window.Kakao.Auth.login({\n            scope : 'profile, account_email',\n            success: this.getKakaoAccount,\n        });\n    },\n    getKakaoAccount(){\n        window.Kakao.API.request({\n            url:'/v2/user/me',\n            success : res => {\n                const kakao_account = res.kakao_account;\n                const nickname = kakao_account.profile.nickname; //카카오 닉네임\n                const email = kakao_account.email //카카오 이메일\n\n                console.log('nickname', nickname);\n                console.log('email', email);\n                //로그인 처리 구현\n\n\n                console.log(kakao_account);\n                // this.login(kakao_account);\n                \n                // const userInfo = {\n                //     nickname : kakao_account.profile.nickname,\n                //     email : kakao_account.email,\n                //     password : '',\n                //     account_type : 2,\n                // }\n\n                  // axios.post(`http://localhost:8080/account/kakao`,{\n                  //     email : userInfo.email,\n                  //     nickname : userInfo.nickname\n                  // })\n                  // .then(res => {\n                  //   console.log(res);\n                  //   console.log(\"데이터베이스에 회원 정보가 있음!\");\n                  // })\n                  // .catch(err => {\n                  //     console.log(err);\n                  //   console.log(\"데이터베이스에 회원 정보가 없음!\");\n                  // })\n                // console.log(userInfo);\n                alert(\"로그인 성공!\");\n            },\n            fail : error => {\n                // this.$router.push(\"/errorPage\");\n                console.log(error);\n            }\n        })\n    },\n    async login(kakao_account) {\n      await this.$api(\"/api/login\", {\n        param:[\n          {email:kakao_account.email, nickname:kakao_account.profile.nickname, gender:kakao_account.gender},\n          {nickname:kakao_account.profile.nickname, gender:kakao_account.gender}\n          ]\n      });\n\n      this.$store.commit(\"user\",kakao_account);\n      \n      this.$router.push({ path: 'test'});\n    }\n  }\n}\n</script>"]}]}